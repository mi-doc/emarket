{% extends 'base.html' %}
{% load static %}

{% block style %}
    <link rel="stylesheet" href="{% static 'static_dev/css/product.css' %}">
{% endblock %}

{% block title %}
    {{ product.name }}
{% endblock title %}

{% block content %}
    <br>
    <br>
    <div class="container product">
        <div class="row row-main">

            <!-- Carousel -->
            <div class="col-lg-6">
                <div id="carouselImages" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        {% for image in product.productimage_set.all %}
                            <li data-target="#carouselImages" data-slide-to="{{ forloop.counter }}"
                                {% if image.is_main %}
                                    class="active"
                                {% endif %}
                            >
                            </li>
                        {% endfor %}
                    </ol>
                  <div class="carousel-inner">
                      {% for image in product.productimage_set.all %}
                        <div class="item
                            {% if image.is_main %}
                              active
                            {% endif %}
                        ">
                          <img  class="d-block w-100" src="{{ image.image.url }}" alt="">
                        </div>
                      {% endfor %}
                  </div>
                  <a class="left carousel-control" href="#carouselImages" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                  </a>
                  <a class="right carousel-control" href="#carouselImages" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                  </a>

                </div>
            </div>

            <!-- Product -->
            <div class="col-lg-6">
                <h1 class="text-center">
                    {{ product.name }}
                </h1>
                </br>
                </br>
                </br>
                <div>
                    {{ product.short_description }}
                </div>
                </br>
                </br>
                <div class="add-to-basket-form">
                    <div>
                        <h4>
                            <b>Price:</b> {{ product.price }} RUB
                        </h4>
                    </div>
                    <form method="post" id="form_buying_product" class="form-inline">
                        {% csrf_token %}
                        Number:
                        <input type="number" size="1" value="1" min="1" class="product-nmb-form">
                        <button type="submit" class="btn btn-success changing-button" id="submit-btn"
                            data-id="{{ product.id }}">
                            Add to basket
                        </button>
                    </form>
                </div>
            </div>

        </div>
        <div class="row">
            <div class="col-lg-8">
                <h3>Specifications:</h3>
                <br>
                <table class="table">
                    <tr>
                        <td>Diagonal: </td>
                        <td>{{ product.diagonal }}</td>
                    </tr>
                    <tr>
                        <td>Display resolution: </td>
                        <td>{{ product.screen_resolution }}</td>
                    </tr>
                    <tr>
                        <td>Built in memory (Gb): </td>
                        <td>{{ product.built_in_memory }}</td>
                    </tr>
                    <tr>
                        <td>RAM (Gb):</td>
                        <td>{{ product.ram }}</td>
                    </tr>
                    <tr>
                        <td>Processor:</td>
                        <td>{{ product.processor }}</td>
                    </tr>
                    <tr>
                        <td>Main camera (Mpx):</td>
                        <td>{{ product.main_camera }}</td>
                    </tr>
                    <tr>
                        <td>Other specifications: </td>
                        <td>{{ product.other_specifications }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

{% endblock %}